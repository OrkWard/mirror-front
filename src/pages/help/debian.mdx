import { useState } from 'react'

export const GenDebianConfig = (version) => {
    if (version === 'sid') {
        return `# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ sid main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ sid main contrib non-free`
    }
    return `# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version} main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version} main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version}-updates main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version}-updates main contrib non-free\n
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version}-backports main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ ${version}-backports main contrib non-free\n
deb https://mirrors.tuna.tsinghua.edu.cn/debian-security ${version}-security main contrib non-free
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian-security ${version}-security main contrib non-free`
}

export const DebianConfigGenerator = () => {
    const debianVersions = ["sid", "testing", "bullseye", "buster", "stretch", "jessie"]
    const configData = ""
    const [version, setVersion] = useState(debianVersions[0])
    return (
        <div>选择你的 Debian 版本：
            <select id="selectBox" style="color:black" onChange={(event) => {setVersion(event.target.value)}}>
                {
                    debianVersions.map((item) => {
                        return <option key={item}>{item}</option>
                    })
                }
            </select>
            <pre>{GenDebianConfig(version)}</pre>
        </div>
    )
}

# Debian 镜像使用帮助

Debian 的软件源配置文件是 `/etc/apt/sources.list`。将系统自带的该文件做个备份，将该文件替换为下面内容，即可使用 TUNA 的软件源镜像。

如果遇到无法拉取 https 源的情况，请先使用 http 源并安装: 

```sh
sudo apt install apt-transport-https ca-certificates
```

再使用我们的软件源镜像。

<DebianConfigGenerator />

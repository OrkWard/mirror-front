{"version":3,"file":"component---src-templates-mirror-doc-tsx-content-file-path-d-repos-mirror-front-docs-zh-ubuntu-mdx-a146fdf438625ffd2b7d.js","mappings":"6LAIO,MAAMA,EAAmB,CAC9B,MAAS,QACT,QAAS,UACT,YAAa,QACb,YAAa,QACb,YAAa,SACb,YAAa,SACb,YAAa,UAEFC,EAAkBC,IAC7B,IAAIC,EAAaH,EAAiBE,GAClC,MAAM,oFACiCC,EAAU,sFACJA,EAAU,gFAChBA,EAAU,8FACJA,EAAU,wFAChBA,EAAU,gGACJA,EAAU,0FAChBA,EAAU,+FACJA,EAAU,6GAEdA,EAAU,+FACNA,EAAU,iDAE5CC,EAAiBC,OAAOC,KAAKN,GAAkBO,MAAKC,GAAKA,EAAEC,QAAQ,OAAS,IACzF,SAASC,EAAkBC,GACzB,MAAMC,EAAcP,OAAOQ,OAAO,CAChCC,EAAG,IACHC,KAAM,OACNC,EAAG,MACFC,EAAAA,EAAAA,MAAsBN,EAAMO,YAC/B,OAAOC,EAAAA,QAAAA,cAAoBA,EAAAA,QAAAA,SAAgB,KAAMA,EAAAA,QAAAA,cAAoBP,EAAYE,EAAG,KAAM,oBAAqBK,EAAAA,QAAAA,cAAoBP,EAAYG,KAAM,KAAM,yBAA0B,4CAA6C,KAAMI,EAAAA,QAAAA,cAAoBC,EAAAA,EAAiB,CAC3QC,aAAc,mBACdC,YAAajB,OAAOC,KAAKN,GACzBI,eAAgBA,EAChBmB,UAAWtB,EACXuB,SAAU,SACR,KAAML,EAAAA,QAAAA,cAAoBP,EAAYE,EAAG,KAAM,2GAA4GK,EAAAA,QAAAA,cAAoBP,EAAYG,KAAM,KAAM,oBAAqB,QAASI,EAAAA,QAAAA,cAAoBP,EAAYI,EAAG,CAC1QS,KAAM,4BACL,gBAAiB,QACtB,CAKA,MAJA,SAAoBd,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAOe,QAASC,GAAatB,OAAOQ,OAAO,CAAC,GAAGI,EAAAA,EAAAA,MAAsBN,EAAMO,YAC3E,OAAOS,EAAYR,EAAAA,QAAAA,cAAoBQ,EAAWhB,EAAOQ,EAAAA,QAAAA,cAAoBT,EAAmBC,IAAUD,EAAkBC,EAC9H,E,yKCrBA,MAAMiB,EAAYC,IAChB,IAAIC,EAAaC,EAAsBC,EAAeC,EACtD,IAAI,KAACC,EAAI,SAAEC,GAAYN,EACvB,MAAM,SAACL,IAAYY,EAAAA,EAAAA,cACbC,EAAc,CAClBC,GAAIJ,EAAKK,SAASC,YAAYC,SAC9BC,KAAM,CACJC,GAAI,GACJC,GAAI,IAENC,OAAQ,WAEJJ,EAAWP,EAAKK,SAASC,YAAYC,UACpC,EAAGK,EAAQ,EAAGC,IAAaC,EAAAA,EAAAA,WAASC,EAAAA,EAAAA,GAAU,WAAaR,EAAUJ,KAC5Ea,EAAAA,EAAAA,YAAU,MAvBZC,eAA2Bb,GACzB,MAAMc,QAAYC,MAAM,gBAAkBf,GAC1C,IAAKc,EAAIE,GACP,MAAM,IAAIC,MAAM,oBAAsBH,EAAIP,OAAS,UAAYO,EAAII,QAErE,MAAMC,QAAaL,EAAIK,OAEvB,OADAC,EAAAA,EAAAA,GAAW,WAAapB,EAAImB,GACrBA,CACT,EAgBIE,CAAYlB,GAAUmB,MAAKC,GAAKd,EAAUc,KAAIC,OAAMC,GAAOC,QAAQC,MAAMF,IAAK,GAC7E,IACH,MAAMG,EAAc,IAAMzB,EACpB0B,GAAYC,EAAAA,EAAAA,GAAsC,QAA9BtC,EAAcgB,EAAOuB,WAAiC,IAAhBvC,EAAyBA,EAAcoC,GAAa,GAC9GxB,EAAOI,EAAOJ,KAAKlB,GACzB,OAAOL,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CAC9BC,GAAI,CACFC,UAAW,QACXC,QAAS,OACTC,cAAe,SACfC,eAAgB,kBAEjBxD,EAAAA,QAAAA,cAAoByD,EAAAA,EAAK,CAC1BC,MAAOnC,EAAO,kBACZvB,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,KAAMnD,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CAC1DC,GAAI,CACFO,GAAI,CACFC,GAAI,EACJC,GAAI,GAENC,GAAI,GAENC,SAAU,YACT/D,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAC3BC,WAAW,EACXC,UAAW,SACXC,QAAS,EACTX,eAAgB,aAChBY,WAAY,cACXpE,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAC3BK,MAAM,EACNjB,GAAI,CACFkB,MAAO,SAERtE,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAC3BC,WAAW,EACXT,eAAgB,iBACfxD,EAAAA,QAAAA,cAAoBuE,EAAAA,EAAM,CAC3BC,MAAO,UACPC,UAAW,QACXC,GAAI,KACH1E,EAAAA,QAAAA,cAAoB2E,EAAAA,EAAY,CACjCC,QAAS,KACTC,UAAW,MACXL,MAAO,WACNxE,EAAAA,QAAAA,cAAoB8E,EAAAA,MAAO,KAAM,gBAAiB9E,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAC7EK,MAAM,GACLrE,EAAAA,QAAAA,cAAoB+E,EAAAA,EAAiB,QAAS/E,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CACxEC,GAAI,CACF4B,GAAI,EACJ1B,QAAS,OACTC,cAAe,MACfa,WAAY,YAEZpE,EAAAA,QAAAA,cAAoB2E,EAAAA,EAAY,CAClCC,QAAS,KACTK,WAAY,IACZJ,UAAW,OACVtD,GAAOvB,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAClCC,WAAW,EACXC,UAAW,MACXV,eAAgB,aAChBY,WAAY,UACXpE,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CAC1BC,GAAI,CACF8B,GAAI,IAELlF,EAAAA,QAAAA,cAAoBmF,EAAAA,EAAiB,CACtCzD,OAAQC,EAAOD,UACZ1B,EAAAA,QAAAA,cAAoB2E,EAAAA,EAAY,CACnCC,QAAS,YACTC,UAAW,MACXL,MAAO,gBACPlB,QAA2B,WAAlB3B,EAAOD,OAAsB,OAAS,SAC9C1B,EAAAA,QAAAA,cAAoB8E,EAAAA,MAAO,KAAM,QAAkC,IAAK,CACzEM,KAAM,IAAIC,KAA0B,IAArB1D,EAAO2D,aAAoBC,eAAelF,SAC8E,QAAhIO,EAA0D,QAAlCC,EAAgBc,EAAO6D,aAAqC,IAAlB3E,OAA2B,EAASA,EAAc4E,cAA6C,IAAzB7E,EAAkCA,EAAuB,GAAK,GAAKZ,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CAC5OK,MAAM,EACNC,MAAO,QACNtE,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,KAAMnD,EAAAA,QAAAA,cAAoB2E,EAAAA,EAAY,CAChEe,cAAc,EACdd,QAAS,KACTC,UAAW,OACV7E,EAAAA,QAAAA,cAAoB8E,EAAAA,MAAO,KAAM,SAA8B9E,EAAAA,QAAAA,cAAoB2F,EAAAA,EAAU,CAC9FH,MAAO7D,EAAO6D,OAAS,SACuC,QAAvD1E,EAAwBC,EAAKK,SAASC,mBAAmD,IAA1BP,GAAoCA,EAAsB8E,QAAU5F,EAAAA,QAAAA,cAAoBgE,EAAAA,GAAM,CACpKK,MAAM,GACLrE,EAAAA,QAAAA,cAAoB6F,EAAAA,GAAQ,CAC7BrB,MAAO,UACPsB,KAAM,SACNlB,QAAS,YACTmB,UAAW/F,EAAAA,QAAAA,cAAoBgG,EAAAA,EAAY,MAC3CtB,GAAI1B,GACHhD,EAAAA,QAAAA,cAAoB8E,EAAAA,MAAO,KAAM,WAAgC9E,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CAC3FC,GAAI,CACFW,SAAU,QACVkC,IAAK,OACLC,MAAO,CACLtC,GAAI,QACJC,GAAI,QAENsC,QAAS,KAEVC,EAAAA,EAAAA,GAAgB9E,EAAU,wBAAyB,WAAYtB,EAAAA,QAAAA,cAAoBmD,EAAAA,EAAK,CACzFgD,OAAQ,EACRpC,SAAU,UACT/D,EAAAA,QAAAA,cAAoBqG,EAAAA,EAAO,CAC5BjD,GAAI,CACFO,GAAI,CACFC,GAAI,EACJC,GAAI,GAENC,GAAI,GAENwC,UAAW,GACVtG,EAAAA,QAAAA,cAAoBuG,EAAAA,GAAa,CAClCxG,WAAYA,EAAAA,GACXiB,MAAchB,EAAAA,QAAAA,cAAoBwG,EAAAA,EAAQ,MAAM,EAItC,SAASC,EAAiBjH,GACvC,OAAOQ,EAAAA,QAAAA,cAAoBS,EAAWjB,EAAOQ,EAAAA,QAAAA,cAAoB0G,EAAqBlH,GACxF,C","sources":["webpack://zju-mirror/./docs/zh/ubuntu.mdx","webpack://zju-mirror/./src/templates/mirror-doc.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport ConfigGenerator from '../../src/components/config-generator';\nexport const ubuntuVersionMap = {\n  \"23.04\": \"lunar\",\n  \"22.10\": \"kinetic\",\n  \"22.04 LTS\": \"jammy\",\n  \"20.04 LTS\": \"focal\",\n  \"18.04 LTS\": \"bionic\",\n  \"16.04 LTS\": \"xenial\",\n  \"14.04 LTS\": \"trusty\"\n};\nexport const GenUbuntuConfig = version => {\n  var ubuntuName = ubuntuVersionMap[version];\n  return `# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释\ndeb https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName} main restricted universe multiverse\n# deb-src https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName} main restricted universe multiverse\ndeb https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-updates main restricted universe multiverse\n# deb-src https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-updates main restricted universe multiverse\ndeb https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-backports main restricted universe multiverse\n# deb-src https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-backports main restricted universe multiverse\ndeb https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-security main restricted universe multiverse\n# deb-src https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-security main restricted universe multiverse\\n\n# 预发布软件源，不建议启用\n# deb https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-proposed main restricted universe multiverse\n# deb-src https://mirrors.zju.edu.cn/ubuntu/ ${ubuntuName}-proposed main restricted universe multiverse`;\n};\nexport const defaultVersion = Object.keys(ubuntuVersionMap).find(x => x.indexOf(\"LTS\") > 0);\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    code: \"code\",\n    a: \"a\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Ubuntu 的软件源配置文件是 \", React.createElement(_components.code, null, \"/etc/apt/sources.list\"), \"。将系统自带的该文件做个备份，将该文件替换为下面内容，即可使用我们的软件源镜像。\"), \"\\n\", React.createElement(ConfigGenerator, {\n    promptString: \"请选择您的 Ubuntu 版本：\",\n    versionList: Object.keys(ubuntuVersionMap),\n    defaultVersion: defaultVersion,\n    configGen: GenUbuntuConfig,\n    language: \"bash\"\n  }), \"\\n\", React.createElement(_components.p, null, \"本镜像仅包含 32/64 位 x86 架构处理器的软件包，在 ARM(arm64, armhf)、PowerPC(ppc64el)、RISC-V(riscv64) 和 S390x 等架构的设备上（对应官方源为\", React.createElement(_components.code, null, \"ports.ubuntu.com\"), \"）请使用 \", React.createElement(_components.a, {\n    href: \"/index/docs/ubuntu-ports\"\n  }, \"ubuntu-ports\"), \" 镜像。\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"D:/repos/mirror-front/docs/zh/ubuntu.mdx\";\nimport {MDXProvider} from '@mdx-js/react';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport {Box, Grid, Typography} from '@mui/material';\nimport Paper from '@mui/material/Paper';\nimport {Trans, useI18next} from 'gatsby-plugin-react-i18next';\nimport {Button} from 'gatsby-theme-material-ui';\nimport React, {useEffect, useState} from 'react';\nimport Footer from '../components/footer';\nimport FileList from '../components/file-list';\nimport Seo from '../components/seo';\nimport StatusIndicator from '../components/status-indicator';\nimport ThemeIconButton from '../components/theme-icon-button';\nimport {Link} from '../utils/i18n-link';\nimport components from './components';\nimport {readCache, writeCache} from '../utils/cache';\nimport {getUrl} from '../utils/url';\nimport TitleMirrorIcon from '../utils/title-mirror-icon';\nasync function fetchMirror(id) {\n  const res = await fetch(\"/api/mirrors/\" + id);\n  if (!res.ok) {\n    throw new Error(\"API call failed: \" + res.status + \" \" + await res.text());\n  }\n  const json = await res.json();\n  writeCache(\"mirrors_\" + id, json);\n  return json;\n}\nconst MirrorDoc = _ref => {\n  var _mirror$url, _mirror$files$length, _mirror$files, _data$document$frontm;\n  let {data, children} = _ref;\n  const {language} = useI18next();\n  const defaultData = {\n    id: data.document.frontmatter.mirrorId,\n    name: {\n      zh: '',\n      en: ''\n    },\n    status: 'unknown'\n  };\n  const mirrorId = data.document.frontmatter.mirrorId;\n  const {0: mirror, 1: setMirror} = useState(readCache(\"mirrors_\" + mirrorId, defaultData));\n  useEffect(() => {\n    fetchMirror(mirrorId).then(d => setMirror(d)).catch(err => console.error(err));\n  }, []);\n  const fallbackUrl = \"/\" + mirrorId;\n  const mirrorUrl = getUrl((_mirror$url = mirror.url) !== null && _mirror$url !== void 0 ? _mirror$url : fallbackUrl, false);\n  const name = mirror.name[language];\n  return React.createElement(Box, {\n    sx: {\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    }\n  }, React.createElement(Seo, {\n    title: name + \" | ZJU Mirror\"\n  }), React.createElement(Box, null, React.createElement(Box, {\n    sx: {\n      px: {\n        xs: 4,\n        sm: 8\n      },\n      py: 4\n    },\n    position: \"relative\"\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    spacing: 4,\n    justifyContent: \"flex-start\",\n    alignItems: \"flex-start\"\n  }, React.createElement(Grid, {\n    item: true,\n    sx: {\n      width: '100%'\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    justifyContent: \"space-between\"\n  }, React.createElement(Link, {\n    color: \"primary\",\n    underline: \"hover\",\n    to: \"/\"\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"div\",\n    color: \"primary\"\n  }, React.createElement(Trans, null, \"ZJU Mirror\"))), React.createElement(Grid, {\n    item: true\n  }, React.createElement(ThemeIconButton, null))), React.createElement(Box, {\n    sx: {\n      mt: 4,\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }), React.createElement(Typography, {\n    variant: \"h2\",\n    fontWeight: 400,\n    component: \"div\"\n  }, name), React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\"\n  }, React.createElement(Box, {\n    sx: {\n      mr: 1\n    }\n  }, React.createElement(StatusIndicator, {\n    status: mirror.status\n  })), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    component: \"div\",\n    color: \"text.disabled\",\n    display: mirror.status === 'cached' ? 'none' : 'block'\n  }, React.createElement(Trans, null, \"\\u6700\\u8FD1\\u66F4\\u65B0\\u4E8E\", ' ', {\n    date: new Date(mirror.lastUpdated * 1000).toLocaleString(language)\n  })))), ((_mirror$files$length = (_mirror$files = mirror.files) === null || _mirror$files === void 0 ? void 0 : _mirror$files.length) !== null && _mirror$files$length !== void 0 ? _mirror$files$length : 0) > 0 && React.createElement(Grid, {\n    item: true,\n    width: \"100%\"\n  }, React.createElement(Box, null, React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"div\"\n  }, React.createElement(Trans, null, \"\\u5B89\\u88C5\\u6620\\u50CF\")), React.createElement(FileList, {\n    files: mirror.files || []\n  }))), !((_data$document$frontm = data.document.frontmatter) !== null && _data$document$frontm !== void 0 && _data$document$frontm.isGit) && React.createElement(Grid, {\n    item: true\n  }, React.createElement(Button, {\n    color: \"primary\",\n    size: \"medium\",\n    variant: \"contained\",\n    startIcon: React.createElement(FolderIcon, null),\n    to: mirrorUrl\n  }, React.createElement(Trans, null, \"\\u6587\\u4EF6\\u5217\\u8868\")))), React.createElement(Box, {\n    sx: {\n      position: 'fixed',\n      top: '6rem',\n      right: {\n        xs: '-4rem',\n        sm: '5rem'\n      },\n      zIndex: -1\n    }\n  }, TitleMirrorIcon(mirrorId, 'rgb(71 123 210 / 23%)', '20rem'))), React.createElement(Box, {\n    zIndex: 1,\n    position: \"sticky\"\n  }, React.createElement(Paper, {\n    sx: {\n      px: {\n        xs: 4,\n        sm: 8\n      },\n      py: 4\n    },\n    elevation: 0\n  }, React.createElement(MDXProvider, {\n    components: components\n  }, children)))), React.createElement(Footer, null));\n};\nconst query = \"1616656869\";\nMirrorDoc\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(MirrorDoc, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["ubuntuVersionMap","GenUbuntuConfig","version","ubuntuName","defaultVersion","Object","keys","find","x","indexOf","_createMdxContent","props","_components","assign","p","code","a","_provideComponents","components","React","ConfigGenerator","promptString","versionList","configGen","language","href","wrapper","MDXLayout","MirrorDoc","_ref","_mirror$url","_mirror$files$length","_mirror$files","_data$document$frontm","data","children","useI18next","defaultData","id","document","frontmatter","mirrorId","name","zh","en","status","mirror","setMirror","useState","readCache","useEffect","async","res","fetch","ok","Error","text","json","writeCache","fetchMirror","then","d","catch","err","console","error","fallbackUrl","mirrorUrl","getUrl","url","Box","sx","minHeight","display","flexDirection","justifyContent","Seo","title","px","xs","sm","py","position","Grid","container","direction","spacing","alignItems","item","width","Link","color","underline","to","Typography","variant","component","Trans","ThemeIconButton","mt","fontWeight","mr","StatusIndicator","date","Date","lastUpdated","toLocaleString","files","length","gutterBottom","FileList","isGit","Button","size","startIcon","FolderIcon","top","right","zIndex","TitleMirrorIcon","Paper","elevation","MDXProvider","Footer","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}
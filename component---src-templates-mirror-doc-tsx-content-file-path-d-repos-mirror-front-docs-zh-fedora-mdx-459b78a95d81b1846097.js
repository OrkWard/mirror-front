"use strict";(self.webpackChunkzju_mirror=self.webpackChunkzju_mirror||[]).push([[8067],{2757:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var r=a(1151),l=a(9748);function n(e){const t=Object.assign({p:"p",a:"a",code:"code",h3:"h3",pre:"pre"},(0,r.ah)(),e.components);return l.default.createElement(l.default.Fragment,null,l.default.createElement(t.p,null,"Fedora 默认使用 ",l.default.createElement(t.a,{href:"https://zh.fedoracommunity.org/2018/04/05/fedora-secures-package-delivery.html"},"Metalink")," 给出推荐的镜像列表，保证用户使用的镜像仓库足够新，并且能够尽快拿到安全更新，从而提供更好的安全性。所以通常情况下使用默认配置即可，无需更改配置文件。"),"\n",l.default.createElement(t.p,null,"由于 Metalink 需要从国外的 Fedora 项目服务器上获取元信息，所以对于校园内网、无国外访问等特殊情况， metalink 并不适用，此时可以如下修改配置文件。"),"\n",l.default.createElement(t.p,null,"Fedora 的软件源配置文件可以有多个，其中： 系统默认的 ",l.default.createElement(t.code,null,"fedora")," 仓库配置文件为 ",l.default.createElement(t.code,null,"/etc/yum.repos.d/fedora.repo")," ，系统默认的 ",l.default.createElement(t.code,null,"updates")," 仓库配置文件为 ",l.default.createElement(t.code,null,"/etc/yum.repos.d/fedora-updates.repo")," 。将上述两个文件先做个备份，根据 Fedora 系统版本分别替换为下面内容，之后通过 ",l.default.createElement(t.code,null,"sudo dnf makecache")," 命令更新本地缓存，即可使用 TUNA 的软件源镜像。"),"\n",l.default.createElement(t.h3,null,"Fedora 29 或更旧版本"),"\n",l.default.createElement(t.p,null,"Fedora 29 及更旧版本已不再受官方支持， Fedora 官方已将 Fedora 29 及更旧版本的软件仓库从主镜像中移除，并转移至了 archive 镜像中。故Fedora 29 及更旧版本无法使用 ZJU 的镜像。请使用默认配置文件，以使 ",l.default.createElement(t.code,null,"yum")," / ",l.default.createElement(t.code,null,"dnf")," 自动获取可用的镜像源。"),"\n",l.default.createElement(t.h3,null,"Fedora 30 或更新版本"),"\n",l.default.createElement(t.p,null,l.default.createElement(t.code,null,"fedora")," 仓库 (/etc/yum.repos.d/fedora.repo)"),"\n",l.default.createElement(t.pre,null,l.default.createElement(t.code,{className:"language-ini"},"[fedora]\nname=Fedora $releasever - $basearch\nfailovermethod=priority\nbaseurl=https://mirrors.zju.edu.cn/fedora/releases/$releasever/Everything/$basearch/os/\nmetadata_expire=28d\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch\nskip_if_unavailable=False\n")),"\n",l.default.createElement(t.p,null,l.default.createElement(t.code,null,"updates")," 仓库 (/etc/yum.repos.d/fedora-updates.repo)"),"\n",l.default.createElement(t.pre,null,l.default.createElement(t.code,{className:"language-ini"},"[updates]\nname=Fedora $releasever - $basearch - Updates\nfailovermethod=priority\nbaseurl=https://mirrors.zju.edu.cn/fedora/updates/$releasever/Everything/$basearch/\nenabled=1\ngpgcheck=1\nmetadata_expire=6h\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch\nskip_if_unavailable=False\n")),"\n",l.default.createElement(t.p,null,l.default.createElement(t.code,null,"fedora-modular")," 仓库 (/etc/yum.repos.d/fedora-modular.repo)"),"\n",l.default.createElement(t.pre,null,l.default.createElement(t.code,{className:"language-ini"},"[fedora-modular]\nname=Fedora Modular $releasever - $basearch\nfailovermethod=priority\nbaseurl=https://mirrors.zju.edu.cn/fedora/releases/$releasever/Modular/$basearch/os/\nenabled=1\nmetadata_expire=7d\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch\nskip_if_unavailable=False\n")),"\n",l.default.createElement(t.p,null,l.default.createElement(t.code,null,"updates-modular")," 仓库 (/etc/yum.repos.d/fedora-updates-modular.repo)"),"\n",l.default.createElement(t.pre,null,l.default.createElement(t.code,{className:"language-ini"},"[updates-modular]\nname=Fedora Modular $releasever - $basearch - Updates\nfailovermethod=priority\nbaseurl=https://mirrors.zju.edu.cn/fedora/updates/$releasever/Modular/$basearch/\nenabled=1\ngpgcheck=1\nmetadata_expire=6h\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch\nskip_if_unavailable=False\n")))}var d=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?l.default.createElement(t,e,l.default.createElement(n,e)):n(e)},u=a(5512),o=a(1508),c=a(5725),s=a(2658),i=a(4680),m=a(7782),f=a(2834),p=a(625),E=a(2795),h=a(4001),g=a(1441),v=a(4046),b=a(6884),y=a(3623),Z=a(7950),x=a(2351),k=a(1304);const $=e=>{var t,a,n,d;let{data:$,children:w}=e;const{language:F}=(0,m.useI18next)(),P={id:$.document.frontmatter.mirrorId,name:{zh:"",en:""},status:"unknown"},_=P.id,{0:j,1:z}=(0,l.useState)((0,Z.t)("mirrors_"+_,P));(0,l.useEffect)((()=>{(async function(e){const t=await fetch("/mirror-front/mirror.json");if(!t.ok)throw new Error("API call failed: "+t.status+" "+await t.text());const a=await t.json();for(let r=0;r<a.length;r+=1)if(a[r].id===e)return a[r];throw new Error("Mirror fetch failed: "+e+" not exist")})(_).then((e=>z(e)))}),[]);const M="/"+_,G=(0,x.Z)(null!==(t=j.url)&&void 0!==t?t:M,!1);if("zh"!==F&&"en"!==F)throw Error("language out of range");const I=j.name[F];return l.default.createElement(o.Z,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"}},l.default.createElement(h.Z,{title:I+" | ZJU Mirror"}),l.default.createElement(o.Z,null,l.default.createElement(o.Z,{sx:{px:{xs:4,sm:8},py:4},position:"relative"},l.default.createElement(c.ZP,{container:!0,direction:"column",spacing:4,justifyContent:"flex-start",alignItems:"flex-start"},l.default.createElement(c.ZP,{item:!0,sx:{width:"100%"}},l.default.createElement(c.ZP,{container:!0,justifyContent:"space-between"},l.default.createElement(b.r,{color:"primary",underline:"hover",to:"/"},l.default.createElement(s.Z,{variant:"h5",component:"div",color:"primary"},l.default.createElement(m.Trans,null,"ZJU Mirror"))),l.default.createElement(c.ZP,{item:!0},l.default.createElement(v.Z,null))),l.default.createElement(o.Z,{sx:{mt:4,display:"flex",flexDirection:"row",alignItems:"center"}}),l.default.createElement(s.Z,{variant:"h2",fontWeight:400,component:"div"},I),l.default.createElement(c.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},l.default.createElement(o.Z,{sx:{mr:1}},l.default.createElement(g.Z,{status:j.status})),l.default.createElement(s.Z,{variant:"subtitle1",component:"div",color:"text.disabled",display:"cached"===j.status?"none":"block"},l.default.createElement(m.Trans,null,"最近更新于"," ",{date:new Date(1e3*j.lastUpdated).toLocaleString(F)})))),(null!==(a=null===(n=j.files)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>0&&l.default.createElement(c.ZP,{item:!0,width:"100%"},l.default.createElement(o.Z,null,l.default.createElement(s.Z,{gutterBottom:!0,variant:"h5",component:"div"},l.default.createElement(m.Trans,null,"安装映像")),l.default.createElement(E.Z,{files:j.files||[]}))),!(null!==(d=$.document.frontmatter)&&void 0!==d&&d.isGit)&&l.default.createElement(c.ZP,{item:!0},l.default.createElement(f.zx,{color:"primary",size:"medium",variant:"contained",startIcon:l.default.createElement(u.Z,null),to:G},l.default.createElement(m.Trans,null,"文件列表")))),l.default.createElement(o.Z,{sx:{position:"fixed",top:"6rem",right:{xs:"-4rem",sm:"5rem"},zIndex:-1}},(0,k.Z)(_,"rgb(71 123 210 / 23%)","20rem"))),l.default.createElement(o.Z,{zIndex:1,position:"sticky"},l.default.createElement(i.Z,{sx:{px:{xs:4,sm:8},py:4},elevation:0},l.default.createElement(r.Zo,{components:y.Z},w)))),l.default.createElement(p.Z,null))};function w(e){return l.default.createElement($,e,l.default.createElement(d,e))}}}]);
//# sourceMappingURL=component---src-templates-mirror-doc-tsx-content-file-path-d-repos-mirror-front-docs-zh-fedora-mdx-459b78a95d81b1846097.js.map